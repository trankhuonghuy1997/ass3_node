{"ast":null,"code":"const initalState = {\n  id_user: '',\n  listCart: []\n};\nconst ReducerCart = (state = initalState, action) => {\n  switch (action.type) {\n    //Nhận dữ liệu id_user và thay đổi state\n    case 'ADD_USER':\n      console.log('id_user: ', action.data);\n      state = {\n        id_user: action.data,\n        listCart: state.listCart\n      };\n      return state;\n    case 'ADD_CART':\n      console.log(action.data);\n\n      //Lấy dữ liệu được truyền tới\n      const data_add_cart = action.data;\n\n      //Lấy dữ liệu có sẵn trong state\n      const add_cart = state.listCart;\n      if (add_cart.length < 1) {\n        add_cart.push(data_add_cart);\n      } else {\n        //Tìm Vị Trí của sản phẩm đã mua\n        const indexCart = add_cart.findIndex(value => {\n          return value.idProduct === data_add_cart.idProduct;\n        });\n\n        //Tìm xem thử sản phẩm này đã mua hay chưa\n        const findCart = add_cart.find(value => {\n          return value.idProduct === data_add_cart.idProduct;\n        });\n\n        //Nếu này chưa được mua thì mình push vào\n        //Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n        if (!findCart) {\n          add_cart.push(data_add_cart);\n          console.log('Push');\n        } else {\n          add_cart[indexCart].count = parseInt(add_cart[indexCart].count) + parseInt(data_add_cart.count);\n          console.log('Update');\n        }\n      }\n      state = {\n        id_user: state.id_user,\n        listCart: add_cart\n      };\n      console.log(state);\n      return state;\n    case 'DELETE_CART':\n      //Lấy dữ liệu được truyền tới\n      const data_delete_cart = action.data;\n\n      //Lấy dữ diệu có sẵn trong state\n      const delete_cart = state.listCart;\n\n      //Tìm kiểm vị trí mà cần xóa\n      const indexDelete = delete_cart.findIndex(value => {\n        return value.idProduct === data_delete_cart.idProduct;\n      });\n\n      //Xóa theo vị trí\n      delete_cart.splice(indexDelete, 1);\n      state = {\n        id_user: state.id_user,\n        listCart: delete_cart\n      };\n      return state;\n    case 'DELETE_ALL_CART':\n      const data_delete_all_cart = action.data;\n      state = {\n        id_user: state.id_user,\n        listCart: data_delete_all_cart\n      };\n      return state;\n    case 'UPDATE_CART':\n      const data_update_cart = action.data;\n      const update_cart = state.listCart;\n      const index = update_cart.findIndex(value => {\n        return value.idProduct === data_update_cart.idProduct;\n      });\n      update_cart[index].count = data_update_cart.count;\n      state = {\n        id_user: state.id_user,\n        listCart: update_cart\n      };\n      return state;\n    default:\n      return state;\n  }\n};\n_c = ReducerCart;\nexport default ReducerCart;\nvar _c;\n$RefreshReg$(_c, \"ReducerCart\");","map":{"version":3,"names":["initalState","id_user","listCart","ReducerCart","state","action","type","console","log","data","data_add_cart","add_cart","length","push","indexCart","findIndex","value","idProduct","findCart","find","count","parseInt","data_delete_cart","delete_cart","indexDelete","splice","data_delete_all_cart","data_update_cart","update_cart","index","_c","$RefreshReg$"],"sources":["D:/FUNiX_Course/4. NodeJs/Assignment 3/Frontend/client/src/Redux/Reducer/ReducerCart.jsx"],"sourcesContent":["const initalState = {\n\tid_user: '',\n\tlistCart: [],\n};\n\nconst ReducerCart = (state = initalState, action) => {\n\tswitch (action.type) {\n\t\t//Nhận dữ liệu id_user và thay đổi state\n\t\tcase 'ADD_USER':\n\t\t\tconsole.log('id_user: ', action.data);\n\n\t\t\tstate = {\n\t\t\t\tid_user: action.data,\n\t\t\t\tlistCart: state.listCart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'ADD_CART':\n\t\t\tconsole.log(action.data);\n\n\t\t\t//Lấy dữ liệu được truyền tới\n\t\t\tconst data_add_cart = action.data;\n\n\t\t\t//Lấy dữ liệu có sẵn trong state\n\t\t\tconst add_cart = state.listCart;\n\n\t\t\tif (add_cart.length < 1) {\n\t\t\t\tadd_cart.push(data_add_cart);\n\t\t\t} else {\n\t\t\t\t//Tìm Vị Trí của sản phẩm đã mua\n\t\t\t\tconst indexCart = add_cart.findIndex((value) => {\n\t\t\t\t\treturn value.idProduct === data_add_cart.idProduct;\n\t\t\t\t});\n\n\t\t\t\t//Tìm xem thử sản phẩm này đã mua hay chưa\n\t\t\t\tconst findCart = add_cart.find((value) => {\n\t\t\t\t\treturn value.idProduct === data_add_cart.idProduct;\n\t\t\t\t});\n\n\t\t\t\t//Nếu này chưa được mua thì mình push vào\n\t\t\t\t//Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n\t\t\t\tif (!findCart) {\n\t\t\t\t\tadd_cart.push(data_add_cart);\n\t\t\t\t\tconsole.log('Push');\n\t\t\t\t} else {\n\t\t\t\t\tadd_cart[indexCart].count =\n\t\t\t\t\t\tparseInt(add_cart[indexCart].count) +\n\t\t\t\t\t\tparseInt(data_add_cart.count);\n\t\t\t\t\tconsole.log('Update');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: add_cart,\n\t\t\t};\n\n\t\t\tconsole.log(state);\n\n\t\t\treturn state;\n\n\t\tcase 'DELETE_CART':\n\t\t\t//Lấy dữ liệu được truyền tới\n\t\t\tconst data_delete_cart = action.data;\n\n\t\t\t//Lấy dữ diệu có sẵn trong state\n\t\t\tconst delete_cart = state.listCart;\n\n\t\t\t//Tìm kiểm vị trí mà cần xóa\n\t\t\tconst indexDelete = delete_cart.findIndex((value) => {\n\t\t\t\treturn value.idProduct === data_delete_cart.idProduct;\n\t\t\t});\n\n\t\t\t//Xóa theo vị trí\n\t\t\tdelete_cart.splice(indexDelete, 1);\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: delete_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'DELETE_ALL_CART':\n\t\t\tconst data_delete_all_cart = action.data;\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: data_delete_all_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tcase 'UPDATE_CART':\n\t\t\tconst data_update_cart = action.data;\n\n\t\t\tconst update_cart = state.listCart;\n\n\t\t\tconst index = update_cart.findIndex((value) => {\n\t\t\t\treturn value.idProduct === data_update_cart.idProduct;\n\t\t\t});\n\n\t\t\tupdate_cart[index].count = data_update_cart.count;\n\n\t\t\tstate = {\n\t\t\t\tid_user: state.id_user,\n\t\t\t\tlistCart: update_cart,\n\t\t\t};\n\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default ReducerCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}